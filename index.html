<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>rainyleo blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="rainyleo blog">
<meta property="og:url" content="http://www.rainyleo.com/index.html">
<meta property="og:site_name" content="rainyleo blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="rainyleo blog">
  
    <link rel="alternate" href="/atom.xml" title="rainyleo blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <!-- <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"> -->
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">rainyleo blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.rainyleo.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Redux源码解读(5)-applyMiddleware" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/01/Redux源码解读(5)-applyMiddleware/" class="article-date">
  <time datetime="2016-11-01T09:48:51.000Z" itemprop="datePublished">2016-11-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/01/Redux源码解读(5)-applyMiddleware/">Redux源码解读(5)-applyMiddleware</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p><code>applyMiddleware()</code>感觉应该是redux的5个API中最绕人一个了, 它往往作为<code>createStore()</code>的第三个参数<code>enhancer</code>, 那它<code>enhance</code>了什么呢? 答案就是<code>createStore()</code>里面的<code>dispatch</code>函数</p>
<ul>
<li><p>函数参数, 参数为包含几个不同<code>middleware</code>的数组或只有一个middleware函数,<br>每个<code>middleware</code>函数会返回一个接收3次参数的柯里化函数, 它有这样的语句<code>return ({ dispatch, getState }) =&gt; next =&gt; action =&gt;</code>, 见最下面的thunk-middleware</p>
</li>
<li><p>返回值, 返回一个接收2次参数的函数   </p>
</li>
</ul>
<p>要把<code>applyMiddleware()</code>理解清楚, 需要联系<code>createStore()</code>, 它们会相互调用, 下面两处代码要结合起来看</p>
<h2 id="源码解读"><a href="#源码解读" class="headerlink" title="源码解读"></a>源码解读</h2>
        
          <p class="article-more-link">
            <a href="/2016/11/01/Redux源码解读(5)-applyMiddleware/#more">阅读更多</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.rainyleo.com/2016/11/01/Redux源码解读(5)-applyMiddleware/" data-id="cixb9yzm8000kwqvtt38vh4kv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Redux源码解读(4)-compose" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/30/Redux源码解读(4)-compose/" class="article-date">
  <time datetime="2016-10-30T12:52:01.000Z" itemprop="datePublished">2016-10-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/30/Redux源码解读(4)-compose/">Redux源码解读(4)-compose</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>compose这个函数在函数式编程中很常见, 它把一个函数函数的结果传进另一个函数中, 例如<code>compose(f, g, h)(x)</code> 返回 <code>f(g(h(x)))</code></p>
<p>下面先看一个简化版本的compose以便理解   </p>
<pre><code class="js"><span class="function"><span class="keyword">function</span> <span class="title">compose</span>(<span class="params">f, g</span>) </span>{
  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{
    <span class="keyword">return</span> f.call(<span class="keyword">this</span>, g.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>));
  };
  <span class="comment">/* 如果只接收一个参数, 也可以这样写
  return function(x) {
    return f(g(x));
  };
  */</span>
}  

<span class="keyword">const</span> square = <span class="function"><span class="params">x</span> =&gt;</span> x * x;
<span class="keyword">const</span> sum = <span class="function">(<span class="params">x, y</span>) =&gt;</span> x + y;
<span class="keyword">const</span> res = compose(square, sum);
res(<span class="number">2</span>, <span class="number">3</span>); <span class="comment">// 25</span>
</code></pre>
        
          <p class="article-more-link">
            <a href="/2016/10/30/Redux源码解读(4)-compose/#more">阅读更多</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.rainyleo.com/2016/10/30/Redux源码解读(4)-compose/" data-id="cixb9yzm6000iwqvt5yq8a2mp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Redux源码解读(3)-bindActionCreators" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/29/Redux源码解读(3)-bindActionCreators/" class="article-date">
  <time datetime="2016-10-29T09:52:01.000Z" itemprop="datePublished">2016-10-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/29/Redux源码解读(3)-bindActionCreators/">Redux源码解读(3)-bindActionCreators</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul>
<li><p>函数参数, <code>bindActionCreators</code>接收2个参数, <code>actionCreators</code>和<code>dispatch</code>,<br><code>actionCreators</code>可以是一个函数, 也可以是包含几个函数的对象  </p>
</li>
<li><p>返回值, 返回值对应<code>actionCreators</code>这个参数, 当它是函数时, 返回值是一个函数, 这个返回的函数接收一个参数传入<code>actionCreator</code>得到 <code>action</code>, 再调用<code>dispatch</code>; 当它是包含几个函数的对象时, 返回值为包含这几个函数调用结果的对象</p>
</li>
</ul>
<p><code>bindActionCreators()</code> 是函数式编程中的组合函数<code>compose</code>,  在下一篇的compose中会提到, 组合函数形如<br><code>compose(f, g)(...args) --&gt; g(f(...args))</code>, 在这里<code>f</code>和<code>g</code>分别为参数<code>actionCreator</code>和<code>dispatch</code> </p>
<h2 id="源码解读"><a href="#源码解读" class="headerlink" title="源码解读"></a>源码解读</h2>
        
          <p class="article-more-link">
            <a href="/2016/10/29/Redux源码解读(3)-bindActionCreators/#more">阅读更多</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.rainyleo.com/2016/10/29/Redux源码解读(3)-bindActionCreators/" data-id="cixb9yzm1000ewqvt5hs0l9s1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Redux源码解读(2)-combineReducers" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/29/Redux源码解读(2)-combineReducers/" class="article-date">
  <time datetime="2016-10-29T00:27:31.000Z" itemprop="datePublished">2016-10-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/29/Redux源码解读(2)-combineReducers/">Redux源码解读(2)-combineReducers</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul>
<li>函数参数, 接收一个包含几个不同reducer函数的对象 </li>
<li>返回值, 返回一个合并的reducer.   </li>
</ul>
<p>当这个合并的<code>reducer</code>接收到<code>action</code>时, 会调用每一个子<code>reducer</code>, 把它们的结果放到一个<code>state</code>对象中, state 对象的属性对应各自 reducer 中的 state </p>
<h2 id="源码解读"><a href="#源码解读" class="headerlink" title="源码解读"></a>源码解读</h2>
        
          <p class="article-more-link">
            <a href="/2016/10/29/Redux源码解读(2)-combineReducers/#more">阅读更多</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.rainyleo.com/2016/10/29/Redux源码解读(2)-combineReducers/" data-id="cixb9yzm3000gwqvtq038o930" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Redux源码解读(1)-createStore" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/28/Redux源码解读(1)-createStore/" class="article-date">
  <time datetime="2016-10-28T11:51:59.000Z" itemprop="datePublished">2016-10-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/28/Redux源码解读(1)-createStore/">Redux源码解读(1)-createStore</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>Redux一共有5个公共方法, 先说第一个<code>createStore()</code>  </p>
<ul>
<li>函数参数, 可以接收3个参数, <code>reducer</code>, <code>preloadedState</code>, <code>enhancer</code>, 后两个是可选的</li>
<li><p>返回值, 返回一个object, 它包含4个公有方法, 分别为<code>getStore()</code>, <code>subscribe(listener)</code>, <code>dispatch(action)</code>, <code>replaceReducer(nextReducer)</code>  </p>
<p>createStore函数使用了设计模式中的暴露模块模式(Revealing Module Pattern)</p>
</li>
</ul>
<h2 id="源码解读"><a href="#源码解读" class="headerlink" title="源码解读"></a>源码解读</h2>
        
          <p class="article-more-link">
            <a href="/2016/10/28/Redux源码解读(1)-createStore/#more">阅读更多</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.rainyleo.com/2016/10/28/Redux源码解读(1)-createStore/" data-id="cixb9yzly000cwqvtbgkjdu53" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-flex-layout" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/26/flex-layout/" class="article-date">
  <time datetime="2016-10-26T03:28:48.000Z" itemprop="datePublished">2016-10-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/26/flex-layout/">flex layout</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Flex-盒模型和术语"><a href="#Flex-盒模型和术语" class="headerlink" title="Flex 盒模型和术语"></a>Flex 盒模型和术语</h2><p>Flex is a CSS box model optimized for user interface design. In the flex layout model, the children of a flex container can be laid out in any direction, and can “flex” their sizes, either growing to fill unused space or shrinking to avoid overflowing the parent. Both horizontal and vertical alignment of the children can be easily manipulated. Nesting of these boxes (horizontal inside vertical, or vertical inside horizontal) can be used to build layouts in two dimensions.</p>
<p>The flexbox layout is direction-agnostic as opposed to the regular layouts (block which is vertically-based and inline which is horizontally-based).</p>
<ul>
<li>flex container: 元素的 display 属性为 flex 或 inline-flex. 文档流中 flex container 的子元素叫做 flex items, 它们以 flex layout model 进行布局.</li>
<li>flex item: </li>
<li>main axis</li>
<li>cross axis</li>
</ul>
<p><img src="box-model.svg" alt="flex"></p>
<h2 id="Flex-container"><a href="#Flex-container" class="headerlink" title="Flex container"></a>Flex container</h2><p>flex container 为它的 contens 建立一个新的 flex formatting context. 这和建立一个 block formatting context 一样, 除了使用的是 flex layout 而不是 block layout.</p>
<p>Flex layout so items have equal height </p>
<p><strong>属性</strong>:</p>
<ol>
<li><p><code>display: flex</code></p>
</li>
<li><p><code>flex-flow: row wrap</code><br>flex-flow 属性是 flex-direction 和 flex-wrap 属性的缩写</p>
</li>
<li><p><code>flex-direction: row</code><br>主轴方向</p>
</li>
<li><p><code>flex-wrap: wrap</code><br>允许子元素多行布局, 当内容分为多行时, 每一行都独立布局. flexible lengths, justify-content 和 align-self 属性只考虑同一行的子元素.</p>
</li>
<li><p><code>justify-content</code><br>flex items 沿着 flex container 主轴方向的布局.</p>
<ul>
<li>flex-start: 默认值, 行的起点, item 之间无 space</li>
<li>flex-end: 行的终点, item 之间无 space</li>
<li>center: 在行中间, 第一个和最后一个子元素距离 container 距离一样, item 之间无 space</li>
<li>space-between: 在行内均分, 第一个和最后一个子元素紧靠着 container, item 之间的 space 一样</li>
<li>space-around: 在行内均分, 第一个和最后一个子元素距离 container 的距离是 flex item 之间距离的一半</li>
</ul>
</li>
</ol>
<p><img src="justify-content.svg" alt="justify-content"><br>该属性仅当 flex items 有定义 width 并且它们的的总宽度小于 flex container 的宽度</p>
<ol>
<li><code>align-items</code><br>flex items 沿着 flex container 侧轴方向的布局.<br>align-self allows this default alignment to be overridden for individual flex items.<br>By default, flex items stretch to fit the container, so are all equal heights </li>
</ol>
<p><img src="align-items.svg" alt="align-items"></p>
<ol>
<li><code>align-content</code><br>当侧轴有多于空间时, 在 flex container 内布局多行. 和 justify-content 属性在主轴布局类似.<br>该属性对单行的 flex container 无效.</li>
</ol>
<p><img src="align-content.svg" alt="align-content"></p>
<h2 id="Flex-item"><a href="#Flex-item" class="headerlink" title="Flex item"></a>Flex item</h2><p>文档流中 flex container 的每个子元素成为一个 flex item, 不带标签的文字包含在一个匿名 flex item 中.<br>因为脱离文档流, flex container 的绝对定位的子元素不参与 flex 布局.</p>
<p>Flex items 元素本身也是 flex-level boxes, 而不是 block-level boxes: 它们参与在它们的 container’s flex formatting context, 而不在 block formatting context. </p>
<p>flex items 的 margins 和 paddings 的百分比计算:</p>
<ul>
<li>their own axis (left/right percentages resolve against width, top/bottom resolve against height), or,</li>
<li>the inline axis (left/right/top/bottom percentages all resolve against width)</li>
</ul>
<p>避免使用百分比在 flex item 的 margin 和 padding 上, 因为它们在不同的浏览器上表现不一致.</p>
<p><strong>属性</strong></p>
<ol>
<li><p><code>order: -1</code><br>放在其他子元素的前面</p>
</li>
<li><p><code>flex: &lt;positive-number&gt;</code><br> flex: <positive-number> 1 0<br> flex-grow, flex-shrink, flex-basis 三个属性的缩写<br> 默认值: 0 1 auto<br> 该属性是控制 flex items 的 width 的关键</positive-number></p>
<p> <code>flex: auto</code>: 1 1 auto<br> <code>flex: none</code>: 0 0 auto</p>
</li>
<li><p><code>flex-grow</code><br>how much the flex item will grow relative to the rest of the flex items in the flex container when positive free space is distributed</p>
</li>
<li><p><code>flex-shrink</code><br>how much the flex item will shrink relative to the rest of the flex items in the flex container when negative free space is distributed</p>
</li>
<li><p><code>flex-basis</code><br>the initial main size of the flex item, before free space is distributed according to the flex factors</p>
</li>
<li><p><code>align-self</code><br>该属性允许每个 flex item 覆盖 align-items 属性.<br>If either of the flex item’s cross-axis margins are auto, align-self has no effect.</p>
</li>
</ol>
<p>Specifying <code>visibility:collapse</code> on a flex item causes it to become a collapsed flex item</p>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>Flex containers 不是 block-level 元素, 因此一些属性不适用 flex containers 或 items. </p>
<p><strong>flex container</strong></p>
<ul>
<li>floats 不会影响 flex container, flex container 的 margins 不会和它子元素的 margin collapse. <code>overflow</code> 属性适用于 flex container.</li>
<li>the <code>::first-line</code> and <code>::first-letter</code> 不适用于 flex container.</li>
<li>the <code>column-*</code> 不适用 flex container.</li>
</ul>
<p><strong>flex item</strong></p>
<ul>
<li><code>float</code> 和 <code>clear</code> 对 flex item 无效.</li>
<li><code>vertical-align</code> 对 flex item 无效.</li>
<li>相邻 flex items 的 margin 不会 collapse.</li>
</ul>
<h2 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h2><p><a href="https://www.w3.org/TR/css-flexbox-1/" target="_blank" rel="external">w3-flex</a><br><a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" target="_blank" rel="external">css-tricks</a><br><a href="https://philipwalton.github.io/solved-by-flexbox/" target="_blank" rel="external">solved-by-flexbox</a><br><a href="http://codepen.io/enxaneta/details/adLPwv" target="_blank" rel="external">flex-playground</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.rainyleo.com/2016/10/26/flex-layout/" data-id="cixb9yzmb000mwqvtpiqrrwbt" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/">CSS</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-React-component-pattern" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/14/React-component-pattern/" class="article-date">
  <time datetime="2016-10-14T02:51:08.000Z" itemprop="datePublished">2016-10-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/14/React-component-pattern/">React中的组件分类</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.z97goyfuy">原文链接</a></p>
<p>React 中一切都是组件化的, 把组件分为2种类型有利于开发和重用. 可以把这两种类型称为<em>容器组件(Container component)</em> 和 <em>呈现组件(Presentational component)</em>.  </p>
<p>它们有什么区别呢?  </p>
<p><strong>呈现组件</strong>的特点:  </p>
<ul>
<li>关注UI的展现</li>
<li>可以在内部包含呈现和容器组件, 通常有一些DOM标签和自己的样式</li>
<li>仅从<code>props</code>接收数据和回调  </li>
<li>通常没有自己的<code>state</code></li>
<li>通常可以写成函数组件, 除非需要 state 或生命周期函数</li>
<li>和应用中其他部分没有关联, 比如 Redux</li>
<li>不关心数据是怎样传递和修改的</li>
<li>可以有<code>this.props.children</code></li>
<li>通常是手写的</li>
<li>例如: <em>Page, Sidebar, Story, UserInfo, List</em></li>
</ul>
        
          <p class="article-more-link">
            <a href="/2016/10/14/React-component-pattern/#more">阅读更多</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.rainyleo.com/2016/10/14/React-component-pattern/" data-id="cixb9yzlw000bwqvtz5o9q4a5" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-CSS百分比" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/12/CSS百分比/" class="article-date">
  <time datetime="2016-10-12T15:36:23.000Z" itemprop="datePublished">2016-10-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/12/CSS百分比/">CSS 百分比</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>CSS 中很多属性都可以有百分比值, 不同的属性对应的百分比意义也不一样.<br>百分比是一种相对值, 在分析 CSS 属性的百分比含义时, 需要找到对应的参照物.</p>
<h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><p>下面分析可以用百分比表示的 CSS 属性以及对应的参照物.</p>
<p><code>width</code>: 相对于包含块(containing block)的 width. 对于绝对定位的元素, 它的包含块基于 block-level 元素, 百分比相对于那个元素的 padding box 的 width.<br><code>height</code>: 相对于包含块的 height. 如果包含块没有指定的 height(例如取决于内容的 height),  并且这个元素没有绝对定位, 则值变为 ‘auto’. 根元素的 height 百分比相对于初始包含块(initial containing block). 注意: 对于绝对定位的元素, 它的包含块基于 block-level 元素, 百分比相对于那个元素的 padding box 的 height.<br><code>margin</code>: 相对于包含块的 width<br><code>padding</code>: 相对于包含块的 width<br><code>top, bottom</code>: 相对于包含块的 height<br><code>left, right</code>: 相对于包含块的 width<br><code>background-position</code>: 把图片的百分比位置定位到元素的 padding-box 百分比位置<br><code>font-size</code>: 相对于父元素的 font-size<br><code>line-height</code>: 相对于元素的 font-size<br><code>vertical-align</code>: 相对于元素的 line-height<br><code>border-radius</code>:<br><code>transform</code>: refer to the size of bounding box</p>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>当百分比值用于可继承属性时，只有结合参照值计算后的绝对值会被继承，而不是百分比值本身</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.rainyleo.com/2016/10/12/CSS百分比/" data-id="cixb9yzlf0003wqvtqz5fu9v6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/">CSS</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Javascript-promise" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/20/Javascript-promise/" class="article-date">
  <time datetime="2016-09-20T12:22:42.000Z" itemprop="datePublished">2016-09-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/20/Javascript-promise/">JavaScript 异步(2)-Promise</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>promise 是一个保存异步操作结果的容器(placeholder). 异步操作除了给函数传递回调, 或订阅事件, 也可以让它返回一个 promise</p>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><p>新建一个 Promise 对象可以用下面的语法,<br><code>new Promise( /* executor */ function(resolve, reject) { ... } );</code> </p>
<p><strong>参数: executor</strong></p>
<p>Promise 接收一个函数作为参数, 这个函数叫做 executor. 当新建 Promise 时 executor 会立即执行, 它接收2个函数<code>resolve</code>和<code>reject</code>作为参数,当它们被调用时会分别<code>resolve</code>,  <code>reject</code>这个 Promise , executor 通常会初始化一些异步操作, 当这些操作完成时调用 resolve 或 reject 来 resolve 这个 promise 或者出错时 reject 它 </p>
<p>调用 <code>resolve()</code> 会触发异步操作, 传递给<code>then()</code>和<code>catch()</code>的函数会被异步执行, 因为它们被添加在了<code>job queue</code>.<br>每一次调用<code>then()</code>或<code>catch()</code>实际上会创建并返回另一个 promise. 当第一个 promise 已经 fulfilled 或者 rejected 之后, 这第二个才会 resolve</p>
        
          <p class="article-more-link">
            <a href="/2016/09/20/Javascript-promise/#more">阅读更多</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.rainyleo.com/2016/09/20/Javascript-promise/" data-id="cixb9yzlu0008wqvtrtgl3mmy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-JavaScript_Event_Loop" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/16/JavaScript_Event_Loop/" class="article-date">
  <time datetime="2016-09-16T01:57:45.000Z" itemprop="datePublished">2016-09-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/16/JavaScript_Event_Loop/">JavaScript 异步(1)-Event loop</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>Event loop 是实现异步的一种机制, JS runtime 通过这种机制来处理不同的任务(task), 这些任务包括 events,callback, parsing, DOM manipulation, Using a resource等等  </p>
<h3 id="Task"><a href="#Task" class="headerlink" title="Task"></a>Task</h3><p>JavaScript runtime 把一切抽象为 task, 用户操作, I/O操作, 网络请求等等都是一个个的 task, 这些 task 被放在不同的 queue 中等待执行.<br>task queue 分为两大类, 分别是 macrotask queue 和 microtask quque, macrotask queue 通常称为 task queue, 有时候也叫做 message queue 或 callback queue, microtask queue 在 ES6 中也叫做 job queue.</p>
<p><strong>task queue (macrotask queue)</strong></p>
<ul>
<li>task queue 是包含 tasks 的有序队列, 先进先出(FIFO)的规则</li>
<li>一个 event loop 有1个或多个 task queue </li>
</ul>
<p>每一个task(macro)都来自一个 <em>task source</em>. 同一个来源的 task 形成一个 task queue, 不同来源的 task 组成不同的task queue. 例如浏览器可能会为鼠标和键盘事件建立一个 task queue, 为其他 task 建立另一个 task queue, 浏览器可能为鼠标和键盘的 task queue设置更高的优先级<br>
        
          <p class="article-more-link">
            <a href="/2016/09/16/JavaScript_Event_Loop/#more">阅读更多</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.rainyleo.com/2016/09/16/JavaScript_Event_Loop/" data-id="cixb9yzlj0004wqvtogd9w19m" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/CSS/" style="font-size: 13.33px;">CSS</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/React/" style="font-size: 16.67px;">React</a> <a href="/tags/atom/" style="font-size: 10px;">atom</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/11/01/Redux源码解读(5)-applyMiddleware/">Redux源码解读(5)-applyMiddleware</a>
          </li>
        
          <li>
            <a href="/2016/10/30/Redux源码解读(4)-compose/">Redux源码解读(4)-compose</a>
          </li>
        
          <li>
            <a href="/2016/10/29/Redux源码解读(3)-bindActionCreators/">Redux源码解读(3)-bindActionCreators</a>
          </li>
        
          <li>
            <a href="/2016/10/29/Redux源码解读(2)-combineReducers/">Redux源码解读(2)-combineReducers</a>
          </li>
        
          <li>
            <a href="/2016/10/28/Redux源码解读(1)-createStore/">Redux源码解读(1)-createStore</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 rainyLeo<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

<div id="totop" style="position:fixed;bottom:120px;right:50px;cursor: pointer;">
	<a title="返回顶部"><img src="/images/scrollup.png" /></a>
</div>
<script src="/js/totop.js"></script>
<!-- to top -->
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    



<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>




  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>